<!DOCTYPE html>
<html>
	<head>
		<script type="text/javascript">
			const GradeExamCount = {
				math: [],
				science: [],
				english: [],
				social_studies: [],
				additional: [],
				world_language: [],
			};
			const CHECKMARK_SVG =
				'<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" width="16" height="16" class="bi bi-check" viewBox="0 0 16 16"><path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/></svg>';
			const NA_SVG =
				'<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" width="16" height="16" class="bi bi-na" viewBox="0 0 16 16"><rect x="4" y="7" width="8" height="2" rx="1"></rect></svg>';
			const X_SVG =
				'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/></svg>';
			const DIVIDER_SVG =
				'<svg preserveAspectRatio="none" width="4" height="4" class="div" fill="currentColor" viewBox="0 0 4 4"></svg>';
			const WARNING_SVG =
				'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-exclamation-triangle-fill" viewBox="0 0 16 16"><path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5m.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/></svg>';
			const LIGHT_GREEN = "#77ff7733";
			const LIGHT_GREY = "#aaaaaa33";
		</script>
		<script src="./plotly.js"></script>
		<script src="./erep.js"></script>
		<script src="./courseData.js"></script>
		<script src="./plotlyDark.js"></script>
		<script src="./conversion.js"></script>
		<script src="./filterSearch.js"></script>
		<script src="./graphing.js"></script>
		<script type="text/javascript" defer>
			var isDarkMode = false;
			if (window.ERep === undefined) {
				window.ERep = {
					Log: (v, l) => {
						console.log(v);
					},
				};
			}
			/*Error Handling*/ var l = false;
			function presentError(m, oe, t = "") {
				if (!l) {
					window.onload = () => {
						l = true;
						presentError(m, oe, t);
					};
					return;
				}
				document.getElementById("errormessage").innerHTML = m;
				document.getElementById("errortype").innerHTML = t;
				document.getElementById("errorbox").removeAttribute("style");
				throw oe;
			}
			window.onload = () => {
				l = true;
				errorHandle(loadCall);
			};
			class NotFound extends Error {
				constructor(message) {
					super(message);
				}
			}
			try {
				if (window.COURSE_DATA_LOADED === undefined) {
					throw new NotFound("COURSE_DATA_NOT_FOUND")
				}
				if (window.PLOTLY_DARK_LOADED === undefined) {
					throw new NotFound("PLOTLY_DARK_NOT_FOUND")
				}
				if (window.CONVERSION_LOADED === undefined) {
					throw new NotFound("CONVERSION_NOT_FOUND")
				}
				if (window.FILTER_SEARCH_LOADED === undefined) {
					throw new NotFound("FILTER_SEARCH_NOT_FOUND")
				}
				if (window.GRAPHING_LOADED === undefined) {
					throw new NotFound("GRAPHING_NOT_FOUND")
				}
				var takenCourses = [];
				/**
				 * Display a course on the screen
				 * 
				 * @param {course} course - The course to display
				 * @returns {void}
				 */
				function showCourse(course) {
					document.getElementById("infobox").style.display = "flex"; // The default display is none, set it so it's visible
					document.querySelector("#infobox > #infoboxdata > h3").innerHTML = course.name; // Set the course name
					let divs = document.querySelectorAll("#infobox > #infoboxdata > div"); // A list of div's in infoboxdata
					divs[0].innerHTML = course.cid; // Set the course ID
					let credits = ""; // HTML of credits to display
					for (var i = 0; i < course.credits.length; i++) { // For all credits
						let creditName = convertCreditToText(course.credits[i][0]); // Get credit name in text
						credits += `${i === 0 ? "" : ", "}<span>${creditName === "Commencement" ? 1 : course.credits[i][1]} ${creditName} Credit</span>`; // Add the credit to the list, if it's a commencement credit set the number of credits to 1 (The default is 0)
					}
					divs[1].innerHTML = credits; // Display credits
					let exams = ""; // HTML of exams to display
					for (var i = 0; i < course.exams.length; i++) { // For all exams
						exams += `${i === 0 ? "" : ", "}<span>${convertExamToText(course.exams[i])} Exam</span>`; // Add the exam to the list
					}
					divs[2].innerHTML = exams; // Display exams
					let prerequisites = ""; // HTML of prerequisites to display
					let prerequisitesOrComplete = coursePrerequisitesMet(course, true)[1]; // Variable to track if prerequisites are complete
					let prerequisites_complete = true;
					for (var i = 0; i < course.prerequisites.length; i++) { // Go through all the prerequisites
						let svg = ""; // The SVG to add to the end of the prerequisite
						if (
							takenCourses.findIndex((e) => {
								return e.name === course.prerequisites[i];
							}) === -1
						) { // If the course is NOT complete
							if (prerequisitesOrComplete && course.prerequisite_types[i] === PREREQUISITE_OR) { // If it's a OR and we know that there is another one, display an N/A symbol
								svg = NA_SVG;
							} else if (course.prerequisite_types[i] === PREREQUISITE_RECOMMENDED) { // If it's a recommend course display an N/A symbol because it's not required
								svg = NA_SVG;
							} else { // If it's just not done
								svg = X_SVG;
								prerequisites_complete = false;
							}
						} else {
							svg = CHECKMARK_SVG; // Prerequisite is complete and can be marked with a check
						}
						prerequisites += `${i === 0 ? "" : ",&nbsp"}<span>${course.prerequisites[i]}</span>${svg}`; // Add the prerequisite with the SVG
					}
					document.getElementById("pres").innerHTML = prerequisites; // Display all the prerequisites
					let prerequisiteTitle = document.getElementById("pretitle"); // The element for if all the prerequisites are met
					prerequisiteTitle.innerHTML = prerequisites_complete ? "COMPLETE " + CHECKMARK_SVG : "INCOMPLETE " + X_SVG;
					prerequisiteTitle.className = prerequisites_complete ? "accepted" : "failed";
					errorHandle(GeneratePrerequisiteGraph, course);
				}
				/**
				 * Add the exam and score to the credit type
				 * 
				 * @param {course} cc - The course to add the score for
				 * @param {number} score - The score on the exam
				 * @param {credit} type - The credit type for the course
				 * @returns {void}
				*/
				function pushRegentsExamScore(cc, score, type) {
					let addingData = [cc.cid, score] // The data being added
					switch (type) {
						case MATH_CREDIT:
							GradeExamCount.math.push(addingData) // Add to math exams
							return
					}
				}
				/**
				 * Check and prompt if needed for a regents exam score
				 * 
				 * @param {course} cc - The course to check and prompt for
				 * @returns {Promise | void} - Promise for when the score is complete
				*/
				async function promptForRegentsExamScore(cc) {
					let checkResult = checkIfExamScoreRequired(cc) // Check if we need the score
					if (!checkResult[0]) {
						return; // If we don't need a score, don't continue
					}
					return new Promise((resolve) => {
						document.getElementById("res").style.display = "block"; // Unhide the prompt
						let rescalcElement = document.getElementById("rescalc"); // Get the calculate button
						rescalcElement.addEventListener("click", () => { // When clicked
							let input = document.getElementById("resinp") // Get the input box
							let matched = input.value.match(/\d+/g) // Get the numbers in the box
							let out = "" // The output score
							for (let i = 0; i < matched.length; i++) { // Go through all of the numbers in the input box
								out += (matched[i]).toString() // This needs to be a string because we need to add all of the digits next to each other and not together. ex. ("1"+"5"="15") instead of (1+5 = 6)
							}
							pushRegentsExamScore(cc, out, parseInt(checkResult[1])) // Add it to the exam scores
							document.getElementById("res").style.display = "none"; // Hide the prompt
							resolve("") // We now have the exam score and can return
						}, { once: true })
					})
				}
				/**
				 * Add a course to taken courses from a click event
				 * 
				 * @param {MouseEvent} e - The event from the click listener
				 * @returns {void}
				*/
				async function addTakenCourse(e) {
					var cc = Courses[parseInt(e.currentTarget.id.split("atcid")[1])]; // Get the course index and get the course from the element ID
					if (e.target.id === "ell") { // If the event is triggered for the info button show the course and return
						showCourse(cc);
						return;
					}
					if (
						takenCourses.findIndex((e) => {
							return e === cc;
						}) === -1
					) { // If the course has not been taken
						var ev = e.currentTarget; // Get the event target
						await promptForRegentsExamScore(cc); // See if we need a score
						takenCourses.push(cc); // Add the course to taken courses
						ev.lastChild.innerHTML = CHECKMARK_SVG + ev.lastChild.innerHTML; // Add a checkmark to the start of the info area
						PropagateTakenCourses(); // Update the list of taken courses
						PropagateCourseChart(); // Update the main graph
					} else { // If we have taken the course
						takenCourses.splice(
							takenCourses.findIndex((e) => {
								return e === cc;
							}),
							1
						); // Remove it from taken courses
						e.currentTarget.lastChild.firstChild.remove(); // Remove the checkmark
						PropagateTakenCourses(); // Update the list of taken courses
						PropagateCourseChart(); // Update the main graph
					}
				}
				/**
				 * Update the search results for taken courses
				 * 
				 * @returns {void}
				 */
				function PropagateTakenCourseSearchResults() {
					document.getElementById("addcompletesugglist").innerHTML = ""; // Clear the results
					let results = searchCourses(
						document.getElementById("addcompletename").value,
						document.getElementById("addcompletecid").value
						); // Search courses with the user's search
					if (results.length === 0) {
						if (document.getElementById("addcompletename").value === "" && document.getElementById("addcompletecid").value === "") {
							document.getElementById("addcompletesugglist").innerHTML = "<p>Start Typing...</p>"; // If the search areas are blank, ask the user to start typing
							return
						}
						document.getElementById("addcompletesugglist").innerHTML = "<p>No Results</p>"; // If there are no results, show that
						return;
					}
					var frag = document.createDocumentFragment(); // Fragment of what we are filling the results with
					for (var i = 0; i < results.length; i++) { // Go through all the courses matching the users input
						let credits = "";
						for (var creditIndex = 0; creditIndex < results[i].credits.length; creditIndex++) { // Go through all the credits
							let creditName = convertCreditToText(results[i].credits[creditIndex][0]); // Get credit name in text
							credits += `${creditIndex === 0 ? "" : DIVIDER_SVG+" "}<span>${creditName === "Commencement" ? "" : results[i].credits[creditIndex][1]} ${creditName} Credit</span>`; // Add the credit to the list, if it's a commencement credit don't display a number
						}
						let tmp = `
							<div class="tcf">
								<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle" viewBox="0 0 16 16" id="ell" style="overflow: visible; ">
									<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
									<path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
								</svg>
								<h5>${results[i].name}</h5>
							</div>
							<div class="tcf">
								${
									takenCourses.findIndex((e) => {
										return e === results[i];
									}) === -1
										? ""
										: '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check" viewBox="0 0 16 16"><path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/></svg>'
								}
								<div class="cid">${results[i].cid}</div>
								${DIVIDER_SVG}
								${credits}
							</div>`; // Generate the HTML
						let temp = document.createElement("li"); // The element we are making
						temp.innerHTML = tmp; // Set the html to what we have before
						temp.id =
							"atcid" +
							Courses.findIndex((e) => {
								return e === results[i];
							}); // Set it's ID to it's course id so we can add it later
						temp.addEventListener("click", addTakenCourse); // Make it work 
						frag.appendChild(temp); // Add it to the list
					}
					document.getElementById("addcompletesugglist").appendChild(frag); // Add all the results to the HTML
				}
				/**
				 * Display the taken courses on the screen
				 * 
				 * @returns {void}
				 */
				function PropagateTakenCourses() {
					document.getElementById("takenCourses").innerHTML = ""; // Clear the list of taken courses
					if (takenCourses.length === 0) {
						document.getElementById("takenCourses").innerHTML = "<p>Click + to add a Course</p>"; // Show how to add a course
						return
					}
					var frag = document.createDocumentFragment(); // Create a HTML fragment that will be added
					for (let i = 0; i < takenCourses.length; i++) { // Go through all taken courses
						let credits = ""; // The credits for the course
						for (var creditIndex = 0; creditIndex < takenCourses[i].credits.length; creditIndex++) { // Go through all the credits
							let creditName = convertCreditToText(takenCourses[i].credits[creditIndex][0]); // Get credit name in text
							credits += `${DIVIDER_SVG} <span>${creditName === "Commencement" ? "" : takenCourses[i].credits[creditIndex][1]} ${creditName} Credit</span>`; // Add the credit to the list, if it's a commencement credit don't display a number
						}
						let tmp = `
						<div>
							<h5>${takenCourses[i].name}<span>${
							coursePrerequisitesMet(takenCourses[i])
								? ""
								: "" + WARNING_SVG + " Prerequisites Incomplete"
						}</span></h5>
							<div class="tcf">
								<div class="cid">${takenCourses[i].cid}</div>
								${credits}
							</div>
						</div>
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16" id="trash">
							<path id="trash" d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"/>
							<path id="trash" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"/>
						</svg>`; // Generate the HTML
						let temp = document.createElement("li"); // The element that we are making
						temp.innerHTML = tmp; // Set the html to what we have before
						temp.id =
							"tcipu" +
							Courses.findIndex((e) => {
								return e === takenCourses[i];
							}); // Set it's ID to it's course id so we can view it later
						temp.className = "tcf"; // Styling
						temp.addEventListener("click", (e) => {
							if (e.target.id === "trash") { // If the user clicks the trash button
								console.log(i);
								takenCourses.splice(i, 1); // Remove the course from taken courses
								PropagateTakenCourseSearchResults(); // Update UI
								PropagateTakenCourses();
								PropagateCourseChart();
							} else {
								showCourse(Courses[parseInt(e.currentTarget.id.split("tcipu")[1])]); // Show the course if not trashing it
							}
						});
						frag.appendChild(temp); // Add it to the list of taken courses
					}
					document.getElementById("takenCourses").appendChild(frag); // Show the new HTML
					CalculateDiploma();
				}
				/**
				 * Run a function and handle the errors produced by running it
				 * 
				 * @param {(...args) => void} func - The function to execute
				 * @param {any} - Arguments to pass the function
				 * @returns {void}
				 */
				function errorHandle(func, ...args) {
					try {
						func(...args); // Run the function
					} catch (e) {
						presentError(
							"Unknown Error - Contact Creator! <br><br><pre>Name: " +
								e.name +
								"<br>Message: " +
								e.message +
								"<br>Stack: " +
								e.stack +
								"</pre>",
							e
						); // Present an error if caught
					}
				}
				/**
				 * Load event listeners that need the DOM to finish loading
				 * 
				 * @returns {void}
				 */
				function loadCall() {
					document.getElementById("addcomplete").addEventListener("click", () => { // + Button
						document.getElementById("addcompletebox").style.display = "flex"; // Unhide the search panel
						document.getElementById("addcompletename").focus() // Focus the name search box
						errorHandle(PropagateTakenCourseSearchResults);
					});
					document.getElementById("addcompleteclose").addEventListener("click", () => { // Close button on search panel
						document.getElementById("addcompletebox").style.display = "none"; // Hide the panel
					});
					document.getElementById("addcompletename").addEventListener("keyup", () => { // Name search box
						errorHandle(PropagateTakenCourseSearchResults);
					});
					document.getElementById("addcompletecid").addEventListener("keyup", () => { // Course ID search box
						errorHandle(PropagateTakenCourseSearchResults);
					});
					document.getElementById("infoclose").addEventListener("click", () => { // Course panel hide
						document.getElementById("infobox").style.display = "none";
					});
					document.getElementById("creditFilter").addEventListener("change", () => { // Credit type dropdown
						errorHandle(PropagateCourseChart);
					});
					document.getElementById("darkLightToggle").addEventListener("change", (e) => { // Dark button toggle
						if (e.target.checked) {
							document.documentElement.setAttribute("data-theme", "dark");
							isDarkMode = true;
						} else {
							document.documentElement.setAttribute("data-theme", "light");
							isDarkMode = false;
						}
						PropagateTakenCourses(); // Update the UI to dark mode
						PropagateCourseChart();
					});
					// GLFI = Grade Level Filter Index
					let gradeFilters = document.getElementsByClassName("glfi") // Grade level filters, list of the elements
					for (let glfi = 0; glfi < gradeFilters.length; glfi++) { // Go through all of the filters
						gradeFilters[glfi].addEventListener("change", (e) => { // Add a listener to each one if they get clicked
							filterGrades = [] // Reset the filters
							let gradeFilters = document.getElementsByClassName("glfi") // Get all of the filter elements
							let overrideFalse = false // Set all the filters to unchecked
							if (gradeFilters[0].checked && e.target.checked && e.target != gradeFilters[0]) { // If any element is checked other than the first one (All Grades), uncheck the first one (All Grades).
								gradeFilters[0].checked = false // Uncheck the the first one (All Grades)
							} else if (gradeFilters[0].checked) { // If the first one (All Grades) is checked, uncheck all the other filters
								filterGrades = [9,10,11,12] // Reset the grades allowed
								overrideFalse = true // Uncheck the rest
							}
							for (let glfi = 0; glfi < gradeFilters.length; glfi++) { // Go through all the filters
								if (overrideFalse && glfi != 0) { // If the uncheck variable is on and the element is not the first one (All Grades), uncheck it.
									gradeFilters[glfi].checked = false // Set filter to unchecked
									continue
								}
								if (gradeFilters[glfi].checked) { // If it is checked and we are not setting it to false, add the id to the list of filters.
									filterGrades.push(8+glfi) // Add to the filter
								}
							}
							PropagateCourseChart() // Update the course chart
						})
					}
					gradeFilters[0].checked = true // Set the All Courses checkbox to checked initially
                    if (isDarkMode) {
                        document.getElementById("darkLightToggle").checked = true; // If we are in dark mode update the toggle
                    }
					errorHandle(CalculateDiploma);
					errorHandle(PropagateCourseChart);
				}
				/**
				 * Calculate all diploma progresses
				 * 
				 * @returns {void}
				 */
				function CalculateDiploma() {
					let e = (id, value) => {
						let cv = parseFloat(document.getElementById(id).innerText) + value;
						document.getElementById(id).innerText = cv;
						if (cv >= parseFloat(document.getElementById(id + "-t").innerText)) {
							document.getElementById(id).className = "accepted";
							document.getElementById(id + "-s").innerHTML = CHECKMARK_SVG + "&nbsp;";
						}
						if (cv < parseFloat(document.getElementById(id + "-t").innerText)) {
							document.getElementById(id).className = "failed";
							document.getElementById(id + "-s").innerHTML = X_SVG + "&nbsp;";
						}
					}; // Update and increment the amount of credits earned
					let r = (id) => {
						document.getElementById(id).innerText = 0;
						document.getElementById(id).className = "failed";
						document.getElementById(id + "-s").innerHTML = X_SVG + "&nbsp;";
					}; // Reset
					r("rd-tc");
					r("rd-ec");
					r("rd-ssc");
					r("rd-mc");
					r("rd-sc");
					r("rd-pec");
					r("rd-wlc");
					r("rd-hc");
					r("rd-cc");
					for (let i = 0; i < takenCourses.length; i++) {
						for (let ci = 0; ci < takenCourses[i].credits.length; ci++) {
							let ca = takenCourses[i].credits[ci][1];
							e("rd-tc", ca);
							switch (takenCourses[i].credits[ci][0]) {
								case ENGLISH_CREDIT:
									e("rd-ec", ca);
									break;
								case SOCIAL_STUDY_CREDIT:
									e("rd-ssc", ca);
									break;
								case MATH_CREDIT:
									e("rd-mc", ca);
									break;
								case SCIENCE_CREDIT:
									e("rd-sc", ca);
									break;
								case PHYSICAL_EDUCATION_CREDIT:
									e("rd-pec", ca);
									break;
								case WORLD_LANGUAGE_CREDIT:
									e("rd-wlc", ca);
									break;
								case HEALTH_CREDIT:
									e("rd-hc", ca);
									break;
								case MEETS_COMMENCEMENT_CREDIT:
									e("rd-cc", 1);
									break;
							}
						}
					}
				}
                if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    document.documentElement.setAttribute("data-theme", "dark");
                    isDarkMode = true;
                }
                // Generate Build ID
				//(()=>{let d=new Date();let bi=d.getMonth()+""+d.getDate()+""+d.getFullYear()+""+d.getHours()+""+d.getMinutes()+""+d.getSeconds();presentError(bi,""," - BuildID");})()
			} catch (e) {
				if (e instanceof NotFound) {
					presentError(
						e.message,
						e,
						" - CodeNotFound"
					);
				} else {
					presentError(
						"Unknown Error - Contact Creator! <br><br><pre>Name: " +
							e.name +
							"<br>Message: " +
							e.message +
							"<br>Stack: " +
							e.stack +
							"</pre>",
						e
					);
				}
			}
		</script>
		<link rel="stylesheet" href="./style.css">
	</head>
	<body>
		<div id="res" style="display: none">
			<h2>Regents Exam Score</h2>
			<label>Required to Calculate Diploma Progress</label>
			<input type="text" placeholder="0%" id="resinp"/>
			<button id="rescalc">Calculate</button>
		</div>
		<div id="addcompletebox" style="display: none">
			<div>
				<h3>Add Taken Course</h3>
				<label for="addcompletename">Course Name:</label>
				<input
					type="text"
					name="addcompletename"
					id="addcompletename"
					placeholder="Start Typing..."
				/>
				<label for="addcompletecid">Course ID:</label>
				<input
					type="text"
					name="addcompletecid"
					id="addcompletecid"
					placeholder="Start Typing..."
				/>
				<button id="addcompleteclose">Close</button>
			</div>
			<div id="addcompletesugg">
				<h4>Courses</h4>
				<ul id="addcompletesugglist"></ul>
			</div>
		</div>
		<div id="infobox" style="display: none">
			<div id="infoboxdata">
				<h3>Name</h3>
				<label>Course ID:</label>
				<div></div>
				<label>Credits:</label>
				<div></div>
				<label>Exams:</label>
				<div></div>
				<button id="infoclose">Close</button>
			</div>
			<div>
				<h4>Prerequisites - <span id="pretitle"></span></h4>
				<div id="pres"></div>
				<div id="preflow"></div>
				<legend id="prelegend">
					<svg
						preserveAspectRatio="none"
						width="7"
						height="7"
						class="color"
						style="--c: #77ff77"
						viewBox="0 0 7 7"
					>
						<circle cx="3.5" cy="3.5" r="7"></circle>
					</svg>
					<div>Complete</div>
					<svg
						preserveAspectRatio="none"
						width="7"
						height="7"
						class="color"
						style="--c: #cccccc"
						viewBox="0 0 7 7"
					>
						<circle cx="3.5" cy="3.5" r="7"></circle>
					</svg>
					<div>NA</div>
					<svg
						preserveAspectRatio="none"
						width="7"
						height="7"
						class="color"
						style="--c: red"
						viewBox="0 0 7 7"
					>
						<circle cx="3.5" cy="3.5" r="7"></circle>
					</svg>
					<div>Required</div>
					<svg
						preserveAspectRatio="none"
						width="7"
						height="7"
						class="color"
						style="--c: blue"
						viewBox="0 0 7 7"
					>
						<circle cx="3.5" cy="3.5" r="7"></circle>
					</svg>
					<div>Either</div>
					<svg
						preserveAspectRatio="none"
						width="7"
						height="7"
						class="color"
						style="--c: yellow"
						viewBox="0 0 7 7"
					>
						<circle cx="3.5" cy="3.5" r="7"></circle>
					</svg>
					<div>Recommended</div>
				</legend>
			</div>
		</div>
		<div id="errorbox" style="display: none">
			<svg
				xmlns="http://www.w3.org/2000/svg"
				width="64"
				height="64"
				fill="currentColor"
				class="bi bi-exclamation-triangle-fill"
				viewBox="0 0 16 16"
			>
				<path
					d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5m.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2"
					fill="#ff0000"
				/>
			</svg>
			<h4>Error<span id="errortype"></span></h4>
			<p id="errormessage"></p>
		</div>
		<div>
			<div class="header">
				<h2>Taken Courses</h2>
				<button id="addcomplete">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						fill="currentColor"
						class="bi bi-plus"
						viewBox="0 0 16 16"
					>
						<path
							d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"
						/>
					</svg>
				</button>
			</div>
			<ul id="takenCourses">
				<p>Click + to add a Course</p>
			</ul>
		</div>
		<div>
			<div class="header">
				<h2>All Courses</h2>
			</div>
			<div id="filters">
				<div class="selectContainer">
					<select id="creditFilter">
						<option>Any Credit</option>
						<option>Math</option>
						<option>English</option>
						<option>Science</option>
						<option>Music</option>
						<option>Health</option>
						<option>P.E.</option>
					</select>
				</div>
				<div class="divider"></div>
				<div id="gradeLevelFiltering">
					<label>
						<input type="checkbox" id="any" class="glfi">
						<span class="glfs">Any Grade</span>
					</label>
					<label>
						<input type="checkbox" id="g9" class="glfi">
						<span class="glfs">9th</span>
					</label>
					<label>
						<input type="checkbox" id="g10" class="glfi">
						<span class="glfs">10th</span>
					</label>
					<label>
						<input type="checkbox" id="g11" class="glfi">
						<span class="glfs">11th</span>
					</label>
					<label>
						<input type="checkbox" id="g12" class="glfi">
						<span class="glfs">12th</span>
					</label>
				</div>
				<div class="divider"></div>
			</div>
			<div id="allc"></div>
			<legend id="prelegend">
				<svg
					preserveAspectRatio="none"
					width="7"
					height="7"
					class="color"
					style="--c: #77ff77"
					viewBox="0 0 7 7"
				>
					<circle cx="3.5" cy="3.5" r="7"></circle>
				</svg>
				<div>Complete</div>
				<svg
					preserveAspectRatio="none"
					width="7"
					height="7"
					class="color"
					style="--c: #cccccc"
					viewBox="0 0 7 7"
				>
					<circle cx="3.5" cy="3.5" r="7"></circle>
				</svg>
				<div>NA</div>
				<svg
					preserveAspectRatio="none"
					width="7"
					height="7"
					class="color"
					style="--c: red"
					viewBox="0 0 7 7"
				>
					<circle cx="3.5" cy="3.5" r="7"></circle>
				</svg>
				<div>Required</div>
				<svg
					preserveAspectRatio="none"
					width="7"
					height="7"
					class="color"
					style="--c: blue"
					viewBox="0 0 7 7"
				>
					<circle cx="3.5" cy="3.5" r="7"></circle>
				</svg>
				<div>Either</div>
				<svg
					preserveAspectRatio="none"
					width="7"
					height="7"
					class="color"
					style="--c: yellow"
					viewBox="0 0 7 7"
				>
					<circle cx="3.5" cy="3.5" r="7"></circle>
				</svg>
				<div>Recommended</div>
			</legend>
		</div>
		<div>
			<div class="header">
				<h2>Diploma Progress</h2>
			</div>
			<div class="diplomaarea">
				<div class="diploma">
					<h3>Regents Diploma</h3>
					<div>
						<div id="rd-tc-s"></div>
						<label>Total Credits:&nbsp;</label>
						<div id="rd-tc" class="failed">0</div>
						<div>/</div>
						<div id="rd-tc-t">22</div>
					</div>
					<div>
						<div id="rd-ec-s"></div>
						<label>English Credits:&nbsp;</label>
						<div id="rd-ec" class="failed">0</div>
						<div>/</div>
						<div id="rd-ec-t">4</div>
					</div>
					<div>
						<div id="rd-ssc-s"></div>
						<label>Social Studies Credits:&nbsp;</label>
						<div id="rd-ssc" class="failed">0</div>
						<div>/</div>
						<div id="rd-ssc-t">4</div>
					</div>
					<div>
						<div id="rd-mc-s"></div>
						<label>Math Credits:&nbsp;</label>
						<div id="rd-mc" class="failed">0</div>
						<div>/</div>
						<div id="rd-mc-t">3</div>
					</div>
					<div>
						<div id="rd-sc-s"></div>
						<label>Science Credits:&nbsp;</label>
						<div id="rd-sc" class="failed">0</div>
						<div>/</div>
						<div id="rd-sc-t">3</div>
					</div>
					<div>
						<div id="rd-pec-s"></div>
						<label>P.E. Credits:&nbsp;</label>
						<div id="rd-pec" class="failed">0</div>
						<div>/</div>
						<div id="rd-pec-t">2</div>
					</div>
					<div>
						<div id="rd-wlc-s"></div>
						<label>World Language Credits:&nbsp;</label>
						<div id="rd-wlc" class="failed">0</div>
						<div>/</div>
						<div id="rd-wlc-t">1</div>
					</div>
					<div>
						<div id="rd-hc-s"></div>
						<label>Health Credits:&nbsp;</label>
						<div id="rd-hc" class="failed">0</div>
						<div>/</div>
						<div id="rd-hc-t">1</div>
					</div>
					<div>
						<div id="rd-cc-s"></div>
						<label>Commencement:&nbsp;</label>
						<div id="rd-cc" class="failed">0</div>
						<div>/</div>
						<div id="rd-cc-t">1</div>
					</div>
				</div>
			</div>
		</div>
		<div id="darkLightToggleContainer">
			<p>Dark Mode</p>
			<label class="switch">
				<input type="checkbox" id="darkLightToggle" />
				<span class="slider round"></span>
			</label>
		</div>
		<footer>
			Version 0.1 Alpha (Build <span id="buildid">172024185201</span>) -
			<a href="https://github.com/SGOTI2/course">Github</a> -
			<a href="https://github.com/SGOTI2/course/issues">Issues</a>
		</footer>
		<!--
			<div id="scrollarea" style="--zoom: 0.3">
				<div id="sankey_basic"></div>
			</div>
		--></body>
</html>
